% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/quantpe.R
\name{expo_on_demographics}
\alias{expo_on_demographics}
\title{Estimate exposure ~ demographics (survey-weighted) for a single exposure}
\usage{
expo_on_demographics(
  exposure,
  con,
  series = NULL,
  adjustment_variables = c("RIDAGEYR", "AGE_SQUARED", "RIAGENDR", "INDFMPIR",
    "EDUCATION_LESS9", "EDUCATION_9_11", "EDUCATION_AA", "EDUCATION_COLLEGEGRAD",
    "ETHNICITY_MEXICAN", "ETHNICITY_OTHERHISPANIC", "ETHNICITY_OTHER",
    "ETHNICITY_NONHISPANICBLACK"),
  logxform_exposure = TRUE,
  scale_exposure = FALSE,
  include_survey_year = FALSE,
  expo_table_name = NULL,
  save_svymodel = FALSE
)
}
\arguments{
\item{exposure}{Character. NHANES exposure variable name (e.g., "LBXGTC").}

\item{con}{DBI connection to NHANES sqlite.}

\item{series}{Optional character vector or NULL. If provided and length==1, uses pe_by_survey_series path.}

\item{adjustment_variables}{Character vector of demographic covariates.}

\item{logxform_exposure}{Logical. If TRUE, log10-transform exposure using your log10_xform_variable().}

\item{scale_exposure}{Logical. If TRUE, scale the exposure outcome (pheno) in run_model().}

\item{include_survey_year}{Logical. If TRUE, add as.factor(SDDSRVYR) to adjustment_variables (when present).}

\item{expo_table_name}{Optional override for exposure table name.}

\item{save_svymodel}{Logical. If TRUE, return the svyglm object from run_model().}
}
\value{
A list with: dsn, unweighted_n, exposure, formula, glanced, tidied, r2, model (optional)
}
\description{
This is a lightweight helper that reuses your existing “guts”:
get_tables() / figure_out_\emph{weight() / name_and_xform_} / create_svydesign() / run_model()
}
\details{
It fits: expo ~ \if{html}{\out{<demographic covariates>}} (optionally including survey year)
and returns a tidy coefficient table plus model fit stats.

Notes:
\itemize{
\item The “outcome” in run_model() is \code{pheno}, so we map \code{pheno := expo} and set \code{expo := 1}
(intercept-only predictor) to make the model estimate E\link{exposure | demographics}.
\item We force \code{scale_expo = FALSE} because the predictor is constant (1). Scaling the predictor
would break (svyvar of a constant is 0). The outcome scaling can be toggled via \code{scale_exposure}.
}
}
